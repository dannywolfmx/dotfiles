#+title: Install
#+PROPERTY: header-args:sh :tangle ./install.org.sh :mkdirp yes

* Dotfiles
** TODO change the install.org.sh name to install.sh
** Intro
To generate the install.sh file or update it you can use this org file using the "config (install.sh)" section.

Run the next command to create/update the config in the install.sh file using the org-babel-tangle in your emacs running C-c C-c into this block or run in your emacs M-x org-babel-tangle
#+begin_src emacs-lisp
  (org-babel-tangle)
#+end_src

**  config (install.sh)
*** Profile (.profile file)

#+begin_src sh
PROFILE_FILE=$HOME/.profile
if test -f "$PROFILE_FILE";
then
	echo -n "A .profile file detected, do you want to overwrite it? [Y/n] "
	read answer
	if [ "$answer" != "${answer#[Yy]}" ]
	then
		rm $PROFILE_FILE
      echo -n "Linking the .profile file"
		ln -s $PWD/.profile $PROFILE_FILE
	else
		echo "Skipped"
	fi
else
	#Link the profile
  echo -n "Linking the .profile file"
	ln -s $PWD/.profile $PROFILE_FILE
fi
#+end_src

*** Tools
**** Doom-emacs

#+begin_src sh
DOOM_DIR=$HOME/.doom.d
if test -d "$DOOM_DIR";
then
	echo -n "A .doom.d directory detected, do you want to overwrite it? [Y/n] "
	read answer
	if [ "$answer" != "${answer#[Yy]}" ]
	then
		rm $DOOM_DIR -rf
        echo -n "Linking the .doom.d DIR"
		ln -s $PWD/emacs/.doom.d $DOOM_DIR
	else
		echo "Skipped"
	fi
else
	#Link the profile
    echo -n "Linking the .doom.d DIR"
	ln -s $PWD/emacs/.doom.d $DOOM_DIR
fi
#+end_src
